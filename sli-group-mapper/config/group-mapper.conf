# ===============================================================================
# Copyright (c) 2015 Ericsson, Inc., All Rights Reserved.
#
# LICENSED MATERIAL - PROPERTY OF ERICSSON
# Possession and/or use of this material is subject to the provisions
# of a written license agreement with Ericsson
#
# ERICSSON CONFIDENTIAL - RESTRICTED ACCESS
# This document and the confidential information it contains shall
# be distributed, routed or made available solely to authorized persons
# having a need to know within Ericsson, except with written
# permission of Ericsson.
#
# ===============================================================================

#
# This file is used to override any default variables in the tool's launch script.
#
# Author: efafont, Aug. 2015
# Version: $Id$
#

# ==============================================================================
# Entries between this heather and the return statement below will be read by
# the group-mapper startup script.
# ==============================================================================

# ==============================================================================
return  # End of UNIX section, return; What follows is now a Java Properties file.
# ==============================================================================



# ==============================================================================
# EEA Offline Analytics SLI Group-mapper configuration.
# ==============================================================================
group-mapper.timezone                      = GMT

group-mapper.baseInputDir                   = hdfs:///eea_data/profiler_services/exporter/esr/esrProfilerDefaultDatabase
group-mapper.sncdInputDir                  = hdfs:///datalake/sncd/sample/1_hour
group-mapper.inputDateFormat               = yyyyMMdd

group-mapper.inputFormats                  = parquet
group-mapper.inputFileFormat               = .*\.parquet

#group-mapper.numberOfReducers             = 4

group-mapper.rules.file                    = hdfs:///eea_config/sli-group-mapper/rules/SLI-user_groups-rules-base.drl
group-mapper.rules.customDir               = hdfs:///eea_config/sli-group-mapper/rules/custom
group-mapper.rules.parametersFile          = hdfs:///eea_config/sli-group-mapper/rules/rule_parameters.csv
group-mapper.rules.descriptionsFile        = hdfs:///eea_config/sli-group-mapper/rules/rule_descriptions.csv

group-mapper.sncdevent.imsiKey = imsi
group-mapper.sncdevent.imeitacKey = imeitac
group-mapper.sncdevent.dateFieldFormat= ddMMyyyy
group-mapper.sncdevent.datefield= date

group-mapper.dataGrid.available            = true


## ==============================================================================
## Original Rules Engine configuration (for reference until fully migrated).
## ==============================================================================
## network database connection info  # The following parameters are required when using database or mapper.type sql
#database=yes
#database.schema=cea
#database.databasename=network
#database.host=localhost
#database.port=5432
#
## DB Password encryption required information.
## if password encryption is not being used the database.password field must be provided in this file.
#passwordEncryption=no
#input.keyFile=C:/encryption_dir/postgres1Key
#input.keyZkFile=RE/others/postgres1Key
#
#input.EncryptedPasswordFile=C:/encryption_dir/db-password.enc.postgres1
#input.zkEncryptedPasswordFile=RE/others/db-password.enc.postgres1
#
#database.username=postgres
#database.password=postgres1
#
## Mapper related parameters
## type can be sql or redis
#mapper.type=sql
#
##input.mapper.refresh controls whether SQL data refresh is done, the default is yes.
#input.mapper.refresh=yes
##input.mapper.update.rate is expressed in unit of seconds, when a value is not specified 600 seconds is used by default
##this configuration parameter is only applicable when mapper type is sql
#input.mapper=yes
#input.mapper.update.rate=6000
#
##redis parameter only used when mapper.type is equalto redis
#input.redisHost=10.61.12.108
#input.redisDb=0
#
## Enable/disable logging to NGM Fault management
## Alarm database config is read from CEA_ALARMDB environment variable
#input.database.status=no
##internal processing option for database.status reporting based on sub type.
#input.database.status.frequency.rate=300
#
##Operator specific information
#operator.timezone="Europe/Helsinki"
#operator.shortAPNname=.mnc012.mcc244.gprs
#operator.mnc=012
#operator.mcc=244
#
##sampling rate
#engine.incidentfile_timestep=300
#
####Incident Output Report Directory. Directory where RE writes incidents to.
###output.IncidentReportsDirectory=INCIDENT_REPORTS/
#
#### Zoo-keeper node that contains additional custom rule set
####input.custom.rule_zknode=RE/customRules
#
##Generic facts.
##This is directory that contains generic facts.
#input.generic.facts_directory=C:/CEA_Master_20/cea_product/esr-components/rule-engine/facts_directory
#
##This is Zookeeper node  that contains generic facts.
#input.generic.facts_zknode:RE/genericFacts
#
##ESR Source Directory
##input_directory.esr=esrDir/
#input_directory.esr=C:/CEA_Master_20/cea_product/simulator/CEASimulator/esrDir
#
#input_directory.incidents=INCIDENT_REPORTS/
#
##Cell Location Source  information
#input.celllocation.file=no
#input.celllocation.filename=RE/common/Cell.txt
#input.celllocation.database=yes
#input.celllocation.tablename=cell_location_mapper
#
##IMEITAC source information
#input.imeitac.file=no
#input.imeitac.filename=RE/common/IMEITAC.txt
#input.imeitac.database=yes
#input.imeitac.tablename=imeitac
#
##Existing Access Point Name (APN)
#input.existingAPN.file=no
#input.existingAPN.filename=RE/common/existingAPN.json
#input.existingAPN.database=yes
#input.existingAPN.tablename=existing_apn
#
##Customer Reference(CRM) Source data
#input.CRM.file=yes
#input.CRM.filename=RE/common/CRM.txt
#input.CRM.database=no
#input.CRM.tablename=crm_customer_device_info
#input.CRM.columns=imsi,tac,customer_status,customer_type,device_status,site_data
#
##Read in CRM reference data based on correlator IMSI segments
#input.matchCorrelatorForCrm=yes
#
##Total number of segments created by the correlator
#input.correlator.numberOfSegments=10
#
##Rule Description information
#input.ruleDesc.file=no
#input.ruleDesc.filename=RE/common/rule_desc.txt
#input.ruleDesc.database=yes
#input.ruleDesc.tablename=rule_desc
#
##Property file
#rule_desc_property.file=RE/common/rule_desc.properties
#rule_desc_property.Zkfile=RE/common/rule_desc.properties
#
#datasource.esr.file=yes
#datasource.esr.sorted=yes
#datasource.subscriberincidents=no
#
##This is used to track a set of IMSI outside of the data base.
##This IMSIs are tacked on daily files. The default is not to this. This is just for trial tracking.
#track_imsi=yes
##track_incident_cols
#input.track.imsi.file=C:/CEA_Master_20/cea_product/simulator/CEASimulator/esrDir/tracked_imsis.txt
#input.track.imsi.zkfile=RE/others/tracked_imsis.txt
#output.track.imsi.file=C:/CEA_Master_20/cea_product/simulator/CEASimulator/esrDir/daily_tracked_imsis.txt
#
#
##Note: all the ESR segments specified for one engine must be in the the same ESR directory
##specified in input_directory.esr. otherwise a different configuration file is required.
##ESR segments
#filterForEngineID0=esr0
##filterForEngineID0=esr0,esr1
##filterForEngineID0=esr0,esr1,esr2,esr3,esr4
##filterForEngineID1=esr5,esr6,esr7,esr8,esr9
##source mapping (Here for future use)
##filterForEngineID10=zmq
##filterForEngineID11=inc
#
